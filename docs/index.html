<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Warvdoh’s Assets Repository | Assets</title>
    <meta name="description" content="Resources like media, snippets, graphics etc." />
    
    <!-- Link to the custom CSS -->
    <link rel="stylesheet" href="/assets/css/style.css">  <!-- Adjust path if needed -->
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      <h1><a href="https://warvdoh.github.io/Assets/">Assets</a></h1>
      <h1 id="warvdohs-assets-repository">Warvdoh’s Assets Repository</h1>

      <p>This is a collection of various resources created and shared for public, personal, non-commercial use, or a commercial one under special circumstances and ownership. The assets are generally categorized by file format, with a few exceptions like background images.</p>

      <hr />

      <h2 id="file-tree">Directory Tree</h2>
      <div id="directory-tree">Loading...</div> <!-- Container for the directory tree -->

      <h2 id="contact">Contact</h2>
      <p>For any questions, clarifications, or commercial use inquiries, feel free to contact me at:</p>
      <ul>
        <li><strong>Email</strong>: <a href="mailto:lucti@protonmail.com">lucti@protonmail.com</a></li>
      </ul>

      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        placeholder
      </div>
    </div>

    <script>
      const apiUrl = "https://api.github.com/repos/Warvdoh/Assets/contents/";

      // Recursive function to build the directory tree
      function buildTree(files, parentElement) {
        const ul = document.createElement("ul");

        files.forEach(item => {
          const li = document.createElement("li");

          if (item.type === "file") {
            li.innerHTML = `<a href="${item.download_url}" target="_blank">${item.name}</a>`;
          } else if (item.type === "dir") {
            li.innerHTML = `<strong>${item.name}</strong>`;
            fetch(item.url)  // Fetch the contents of the directory recursively
              .then(response => response.json())
              .then(data => buildTree(data, li))
              .catch(error => console.error("Error loading directory:", error));
          }

          ul.appendChild(li);
        });

        parentElement.appendChild(ul);
      }

      // Fetch repository content and create tree view
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          console.log('Directory data:', data); // Debugging line
          const treeContainer = document.getElementById("directory-tree");
          buildTree(data, treeContainer);
        })
        .catch(error => {
          console.error('Error fetching files:', error); // Debugging line
          const treeContainer = document.getElementById("directory-tree");
          treeContainer.innerHTML = "Failed to load directory tree.";
        });
    </script>

  </body>
</html>
